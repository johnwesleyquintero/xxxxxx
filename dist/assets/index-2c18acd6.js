(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const i of r.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&s(i)}).observe(document,{childList:!0,subtree:!0});function o(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(t){if(t.ep)return;t.ep=!0;const r=o(t);fetch(t.href,r)}})();fetch("sidebar.html").then(n=>n.text()).then(n=>{document.querySelector(".container").insertAdjacentHTML("afterbegin",n)});const f=new Set(["a","an","and","are","as","at","be","by","for","from","has","he","in","is","it","its","of","on","that","the","to","was","were","will","with","this","your","you","they","or","but","not","what","which","their","there","have","has","can","should","could","we"]);function h(n){const s=n.toLowerCase().replace(/[^a-z0-9\s,]/g,"").split(/[\s,]+/).filter(t=>!f.has(t)&&t.length>2);return{keywords:s,uniqueKeywords:[...new Set(s)]}}function y(){return{message:"SEO Analysis Completed!"}}function p(n,e,o,s){o.textContent=n.value.substring(0,60);const t=e.value.split("\\n").map(r=>r.trim()).filter(r=>r).join(" - ").substring(0,155);s.textContent=t}function g(n){const e=new Set(n);return n.forEach(o=>{o.length>4&&(e.add(o+"s"),e.add(o.slice(0,-1))),e.add(o+" analysis")}),Array.from(e)}function w(n,e,o){const s=n.value.trim();if(!s)return showError("Please enter a competitor URL.");if(!/^(ftp|http|https):\/\/[^ "]+$/.test(s))return showError("Please enter a valid competitor URL.");const r=h(e.value).uniqueKeywords,u=g(r).filter(c=>!r.some(l=>l.toLowerCase()===c.toLowerCase()));E(u,o)}function E(n,e){e.innerHTML=n.length===0?"<p>Your keywords cover the same topics as the competitor.</p>":`<h3>Missing Competitor Keywords:</h3><ul>${n.map(o=>`<li>${o}</li>`).join("")}</ul>`}function a(n,e){let o;return(...s)=>{clearTimeout(o),o=setTimeout(()=>n.apply(this,s),e)}}document.addEventListener("DOMContentLoaded",()=>{const n=document.getElementById("analyze-button"),e=document.getElementById("product-title"),o=document.getElementById("bullet-points"),s=document.getElementById("seo-results"),t=document.getElementById("title-char-count");document.getElementById("preview-title"),document.getElementById("preview-sales-points");const r=document.getElementById("competitor-url"),i=document.getElementById("compare-button"),u=document.getElementById("competitor-results"),c=document.getElementById("snippet-title"),l=document.getElementById("snippet-description");function m(){const d=e.value.length;t.textContent=`${d}/70`,t.classList.toggle("warning",d>70)}e.addEventListener("input",a(m,100)),e.addEventListener("input",a(()=>p(e,o,c,l),100)),o.addEventListener("input",a(()=>p(e,o,c,l),100)),n.addEventListener("click",()=>{s.innerHTML='<div class="loading">Analyzing...</div>',setTimeout(()=>{s.innerHTML=`<p>${y().message}</p>`},1e3)}),i.addEventListener("click",()=>w(r,e,u)),console.log("SEO Analysis Tool Initialized")});
